<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs1 docs-version-current docs-doc-page docs-doc-id-integration/android/reference-designs/direct-api-integration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.0">
<title data-rh="true">Direct API integration | Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.peridio.com/integration/android/reference-designs/direct-api-integration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs1-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs1-current"><meta data-rh="true" property="og:title" content="Direct API integration | Docs"><meta data-rh="true" name="description" content="Direct Device API integration of Android devices with Peridio involves the following:"><meta data-rh="true" property="og:description" content="Direct Device API integration of Android devices with Peridio involves the following:"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.peridio.com/integration/android/reference-designs/direct-api-integration"><link data-rh="true" rel="alternate" href="https://docs.peridio.com/integration/android/reference-designs/direct-api-integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.peridio.com/integration/android/reference-designs/direct-api-integration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EBXD92WI74-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Docs" href="/opensearch.xml">


<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XN33JD9H3F"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XN33JD9H3F",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&amp;family=Space+Grotesk:wght@300..700&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.8425bd9c.css">
<script src="/assets/js/runtime~main.f8fa8a8c.js" defer="defer"></script>
<script src="/assets/js/main.4db35fc4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-color-black.svg" alt="Peridio logo color black" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-color-black.svg" alt="Peridio logo color black" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/platform/reference/overview">Platform</a><a class="navbar__item navbar__link" href="/integration/introduction">Integration</a><a class="navbar__item navbar__link" href="/admin-api">Admin API</a><a class="navbar__item navbar__link" href="/device-api">Device API</a><a class="navbar__item navbar__link" href="/cli">CLI</a><a class="navbar__item navbar__link" href="/evk">EVK</a></div><div class="navbar__items navbar__items--right"><a href="https://console.peridio.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Web Console<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/integration/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/integration/android/overview">Android</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integration/android/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/integration/android/reference-designs/direct-api-integration">Reference designs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/integration/android/reference-designs/direct-api-integration">Direct API integration</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/integration/linux/overview">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integration/linux/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/integration/linux/peridiod/getting-started">Peridio Daemon</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/integration/linux/build-tools/yocto">Build Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/integration/linux/reference-designs/imx6ullevk/overview">Reference Designs</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Direct API integration</h1>
<p>Direct <a href="/device-api">Device API</a> integration of Android devices with Peridio involves the following:</p>
<ul>
<li>Authentication</li>
<li>Discover updates</li>
<li>Download updates</li>
<li>Install updates</li>
<li>Optional extensions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h2>
<p>Devices authenticate to the Device API via mutual TLS (mTLS), sometimes referred to as mutual authentication. That is, where TLS typically requires the client to verify the server, mTLS requires the client and the server to verify eachother. mTLS is an industry standard variation of transport layer security and is not a Peridio-specific concept. For example, AWS IoT Core uses mTLS. This standardization allows devices to connect to a variety of systems using the same credentials in the same way, simplifying integration while ensuring security.</p>
<p>In the context of Android, this requires that your devices have a device-specific identity that is
attestable via an X.509 v3 certificate, hereafter refered to as a <a href="/platform/reference/device-certificates">device certificate</a>. The device certificate must be stored on device in a manner that persists in all cases, e.g., across reboots, updates, and factory resets.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>mutable identities</div><div class="admonitionContent_BuS1"><p>There are exceptional scenarios where one may desire the ability to mutate (delete or reset) a device&#x27;s identity, which is to say delete or reset the device certificate. Such scenarios are outside the scope of this document.</p></div></div>
<p>The device certificate is then supplied when making requests to the Device API as part of mutual authentication. How exactly this manifests in code is dependent on the client HTTP library you use. For example, when using retrofit/okhttp, reference their <a href="https://github.com/square/okhttp/blob/master/okhttp-tls/README.md?utm_source=chatgpt.com#client-authentication" target="_blank" rel="noopener noreferrer">client authentication</a> documentation.</p>
<p>A device correctly supplying its certificate is half of the effort, the server must also know to trust the client&#x27;s certificate. This can be can be achieved in a couple of ways:</p>
<ul>
<li>The CLI&#x27;s <a href="/cli/device-certificates/create">device-certificates create</a> command.<!-- -->
<ul>
<li>Typically used in ad-hoc development contexts.</li>
</ul>
</li>
<li>The Admin API&#x27;s <a href="/admin-api#device-certificates/operation/create-a-device-certificate">create-a-device-certificate</a> route.<!-- -->
<ul>
<li>Typically used in ad-hoc production contexts.</li>
</ul>
</li>
<li><a href="/platform/reference/just-in-time-provisioning">Just-in-time provisioning</a>.<!-- -->
<ul>
<li>Typically used in mass-manufacturing production contexts.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="discover-updates">Discover updates<a href="#discover-updates" class="hash-link" aria-label="Direct link to Discover updates" title="Direct link to Discover updates">​</a></h2>
<p>Device&#x27;s may check if an update is available by hitting the Device API <a href="/device-api#devices/operation/get-update">get-update</a> route. This will inform them of if an update is available, as well as provide pre-signed download URLs for each of the bundle&#x27;s binaries. Interaction with this API is also how the device informs Peridio of its current status, i.e., what release/bundle/version it is currently running.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-updates">Download updates<a href="#download-updates" class="hash-link" aria-label="Direct link to Download updates" title="Direct link to Download updates">​</a></h2>
<p>After a device learns an update is available, it is free to download none, some, or all of the available binaries as it deems fit. This decision is as simple or complex as the use case demands, ranging from always downloading immediately when available, to potentially involving custom metadata configured into Peridio, environmental and operational factors like time of day and system status, and even local human operator input.</p>
<p>In any case, it is important to consider:</p>
<ul>
<li>How the download is performed.</li>
<li>Where the content is downloaded to.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fast-downloads">Fast downloads<a href="#fast-downloads" class="hash-link" aria-label="Direct link to Fast downloads" title="Direct link to Fast downloads">​</a></h3>
<p>Pending the size of your binaries and your operational requirements, it is common to desire &quot;fast downloads&quot;. This effectively translates to parallel resumable downloads.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parallel-downloads">Parallel downloads<a href="#parallel-downloads" class="hash-link" aria-label="Direct link to Parallel downloads" title="Direct link to Parallel downloads">​</a></h4>
<p>Parallel downloads involve splitting the binary into smaller chunks and downloading these chunks concurrently using multiple network connections. This approach can significantly improve download speeds, especially in high-bandwidth or low-latency environments, by maximizing network throughput and minimizing the impact of slow segments. Implementing parallel downloads requires support for HTTP range requests, which Peridio supports, and careful management of concurrent streams to avoid overwhelming the device&#x27;s network stack or storage subsystem. For Android, leveraging libraries like OkHttp with custom interceptors can simplify this implementation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resumable-downloads">Resumable downloads<a href="#resumable-downloads" class="hash-link" aria-label="Direct link to Resumable downloads" title="Direct link to Resumable downloads">​</a></h4>
<p>Resumable downloads ensure that a download interrupted by network issues, device reboots, or other disruptions can continue from where it left off, rather than restarting from the beginning. This feature is particularly important for large binaries or devices operating in unreliable network conditions. Resumable downloads typically rely on HTTP range requests and metadata tracking to store the progress of each chunk. On Android, this can be achieved by managing state in local storage and using libraries or APIs that support partial downloads, ensuring seamless recovery and efficient use of bandwidth.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-updates">Install updates<a href="#install-updates" class="hash-link" aria-label="Direct link to Install updates" title="Direct link to Install updates">​</a></h2>
<p>After a binary is downloaded, how you install it depends on what the binary is as well as your wider platform context. For apps you may handoff to the Package Installer API. For system updates you may handoff to the Update Engine API. For other artifact types, installation may simply be persisting the binary to a particular location.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-extensions">Optional extensions<a href="#optional-extensions" class="hash-link" aria-label="Direct link to Optional extensions" title="Direct link to Optional extensions">​</a></h2>
<p>Beyond OTA and connectivity information described earlier, there are other categories of functionality you may wish to optionally leverage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="remote-access-tunnels">Remote access tunnels<a href="#remote-access-tunnels" class="hash-link" aria-label="Direct link to Remote access tunnels" title="Direct link to Remote access tunnels">​</a></h3>
<p>Peridio supports remote access tunnels, that is, secure wireguard connections with your device. From the device&#x27;s perspective these connections are outbound-initiated, so no inbound ports are required for initiation of the tunnel. The effort to support these tunnels is primarily ensuring wireguard is available on-device, either as a kernel module or a user-space implementation. Beyond that, the device must integrate with the Peridio Device WS API to support control plane operations of this functionality like discovering a tunnel is desired as well as exchanging network configuration handshakes.</p>
<p>For integration support for remote access tunnels, please contact our support team.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/integration/android/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/integration/linux/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#discover-updates" class="table-of-contents__link toc-highlight">Discover updates</a></li><li><a href="#download-updates" class="table-of-contents__link toc-highlight">Download updates</a><ul><li><a href="#fast-downloads" class="table-of-contents__link toc-highlight">Fast downloads</a></li></ul></li><li><a href="#install-updates" class="table-of-contents__link toc-highlight">Install updates</a></li><li><a href="#optional-extensions" class="table-of-contents__link toc-highlight">Optional extensions</a><ul><li><a href="#remote-access-tunnels" class="table-of-contents__link toc-highlight">Remote access tunnels</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Peridio.</div></div></div></footer></div>
</body>
</html>
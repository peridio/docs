<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-integration/linux/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Overview | Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.peridio.com/integration/linux/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overview | Docs"><meta data-rh="true" name="description" content="Peridio can be integrated with virtually any embedded / desktop Linux runtime. The quickest way to get started with Peridio is to deploy one of our reference designs. Our references are a subset of boards we maintain which we have found to be common / interesting deployment targets. While deploying a reference example is the easiest path running Peridio, it is also the most opinionated about the workflow, as the remainder of this document goes on to describe. The opinions expressed in the reference designs are not requirements to use Peridio. If you require greater flexibility and control in your environment, Peridio can be integrated by leveraging an SDK or by programming against the Device API."><meta data-rh="true" property="og:description" content="Peridio can be integrated with virtually any embedded / desktop Linux runtime. The quickest way to get started with Peridio is to deploy one of our reference designs. Our references are a subset of boards we maintain which we have found to be common / interesting deployment targets. While deploying a reference example is the easiest path running Peridio, it is also the most opinionated about the workflow, as the remainder of this document goes on to describe. The opinions expressed in the reference designs are not requirements to use Peridio. If you require greater flexibility and control in your environment, Peridio can be integrated by leveraging an SDK or by programming against the Device API."><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.peridio.com/integration/linux/overview"><link data-rh="true" rel="alternate" href="https://docs.peridio.com/integration/linux/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.peridio.com/integration/linux/overview" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EBXD92WI74-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XN33JD9H3F"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XN33JD9H3F",{anonymize_ip:!0})</script>

<link rel="search" type="application/opensearchdescription+xml" title="Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.c746023f.css">
<script src="/assets/js/runtime~main.28a35f8b.js" defer="defer"></script>
<script src="/assets/js/main.815a781a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-color-black.svg" alt="Peridio logo color black" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-color-black.svg" alt="Peridio logo color black" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/platform/reference/overview">Platform</a><a class="navbar__item navbar__link" href="/integration/introduction">Integration</a><a class="navbar__item navbar__link" href="/admin-api">Admin API</a><a class="navbar__item navbar__link" href="/device-api">Device API</a><a class="navbar__item navbar__link" href="/cli">CLI</a></div><div class="navbar__items navbar__items--right"><a href="https://console.peridio.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Web Console<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/integration/introduction">Introduction<!-- --> </a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/integration/linux/overview">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/integration/linux/overview">Overview<!-- --> </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integration/linux/peridiod">peridiod<!-- --> </a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/integration/linux/build-tools/yocto">Build Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/integration/linux/reference-designs/qemu-arm64/overview">Reference Designs</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Overview</h1>
<p>Peridio can be integrated with virtually any embedded / desktop Linux runtime. The quickest way to get started with Peridio is to deploy one of our <a href="/integration/linux/overview#reference-designs">reference designs</a>. Our references are a subset of boards we maintain which we have found to be common / interesting deployment targets. While deploying a reference example is the easiest path running Peridio, it is also the most opinionated about the workflow, as the remainder of this document goes on to describe. The opinions expressed in the reference designs are not requirements to use Peridio. If you require greater flexibility and control in your environment, Peridio can be integrated by leveraging an SDK or by programming against the <a href="/device-api">Device API</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference-agent">Reference Agent<a href="#reference-agent" class="hash-link" aria-label="Direct link to Reference Agent" title="Direct link to Reference Agent">​</a></h2>
<p><code>peridiod</code> is a reference implementation of a Peridio Agent for Embedded Linux. Peridio offers several ways to integrate peridiod into your build workflow via several integration paths:</p>
<ul>
<li><a href="/integration/linux/build-tools/yocto">yocto</a></li>
<li><a href="/integration/linux/build-tools/buildroot">buildroot</a></li>
</ul>
<p>For more information about the reference Linux agent, see <a href="/integration/linux/peridiod#configuring">peridiod</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference-designs">Reference Designs<a href="#reference-designs" class="hash-link" aria-label="Direct link to Reference Designs" title="Direct link to Reference Designs">​</a></h2>
<p>Peridio maintains opinionated reference implementations for a variety of development kits and evaluation boards. These designs apply a series of opinions to help produce a secure, robust, fault tolerant platform for designing connected products. These opinions are not requirements to implement Peridio into your product, Peridio is an extensible, modular core that can be integrated into a variety of systems and platforms. The Peridio reference designs for Linux implement the following opinions on structuring the platform which will prescribe a development workflow and update strategy.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-structure">Runtime Structure<a href="#runtime-structure" class="hash-link" aria-label="Direct link to Runtime Structure" title="Direct link to Runtime Structure">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="partition-structure">Partition Structure<a href="#partition-structure" class="hash-link" aria-label="Direct link to Partition Structure" title="Direct link to Partition Structure">​</a></h4>
<p>Peridio reference designs will implement an A/B update strategy by default This requires that you have enough space for storing two times the size of your included assets. The partition structure is completely customizable, the following opinions were chosen as a general base line for producing fault tolerant embedded systems.</p>
<ul>
<li>U-Boot Environment</li>
<li>Boot Partition A/B Updates</li>
<li>RootFS A/B Updates (Squashfs read-only)</li>
<li>Overlay FS Data Partition (read write)</li>
</ul>
<p>The U-Boot Environment is used as a persistent data store for peridiod to track variables such as a boot counter, a validation flag, which partition slot is active, the contents of each slot, etc. These variables can be used at early boot time to perform roll back logic, for example, the validation flag can be set after the program reaches the desired runtime state after an update. The Peridio reference designs implement logic which will reset the validation flag to &quot;0&quot; when an update occurs. Your application should set this flag to &quot;1&quot; when it is deemed valid firmware. You can set this flag using <code>fw_setenv peridio_validated 1</code> from the command line. If has not been set, something likely went wrong and the hardware watchdog reset the board. The following is an example of logic you may place into your bootloader configuration to determine which partition to boot from:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">peridio_revert=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if test ${peridio_active} = &quot;a&quot;; then\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;Reverting to partition B&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv peridio_active &quot;b&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;Reverting to partition A&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv peridio_active &quot;a&quot;;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">peridio_init=\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if test ${peridio_booted} = 1; then\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if test ${peridio_validated} = 0; then\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            run peridio_revert;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            setenv peridio_validated 1;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            saveenv;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if test ${peridio_active} = &quot;a&quot;; then\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv bootpart 2;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv rootdevpath ${a.peridio_rootfs_part_devpath};\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv datadevpath ${a.peridio_datafs_part_devpath};\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv bootpart 3;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv rootdevpath ${b.peridio_rootfs_part_devpath};\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setenv datadevpath ${b.peridio_datafs_part_devpath};\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bootcmd=run peridio_init my_boot_command</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="peridio-cloud-requirements">Peridio Cloud Requirements<a href="#peridio-cloud-requirements" class="hash-link" aria-label="Direct link to Peridio Cloud Requirements" title="Direct link to Peridio Cloud Requirements">​</a></h3>
<p>Building and connecting a reference design system to Peridio requires some additional configuration to your Peridio Cloud organization. The following steps will prepare your Peridio Cloud organization to connect devices running the default reference platform.</p>
<ul>
<li>Reference designs use the product name <code>avocado-linux</code> by default, <a href="/platform/guides/creating-products">create a new product</a> named <code>avocado-linux</code> in your Peridio Cloud organization.</li>
<li><a href="/platform/guides/creating-x509-certificates-with-openssl">Generate a Certificate Authority</a> for signing trusted device identities.</li>
<li><a href="/platform/guides/creating-ca-certificates">Configure Peridio Cloud to trust your Certificate Authority</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-machine-requirements">Development Machine Requirements<a href="#development-machine-requirements" class="hash-link" aria-label="Direct link to Development Machine Requirements" title="Direct link to Development Machine Requirements">​</a></h3>
<p>Peridio reference designs for Linux are maintained with the Yocto build system. You will need access to a Linux environment to build Yocto based systems. You can choose to use direct Linux installations, virtual machines, or docker.</p>
<p>Building and configuring reference designs will require access to a development machine with the following tools and services installed:</p>
<ul>
<li><a href="https://docs.yoctoproject.org/ref-manual/system-requirements.html" target="_blank" rel="noopener noreferrer">Yocto System Requirements</a>.</li>
<li><a href="https://kas.readthedocs.io/en/latest/userguide.html#dependencies-installation" target="_blank" rel="noopener noreferrer">kas</a></li>
<li><a href="/cli">Install and configure the Peridio CLI</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/integration/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">System Integrations</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/integration/linux/peridiod"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">peridiod</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reference-agent" class="table-of-contents__link toc-highlight">Reference Agent</a></li><li><a href="#reference-designs" class="table-of-contents__link toc-highlight">Reference Designs</a><ul><li><a href="#runtime-structure" class="table-of-contents__link toc-highlight">Runtime Structure</a></li><li><a href="#peridio-cloud-requirements" class="table-of-contents__link toc-highlight">Peridio Cloud Requirements</a></li><li><a href="#development-machine-requirements" class="table-of-contents__link toc-highlight">Development Machine Requirements</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Peridio.</div></div></div></footer></div>
</body>
</html>
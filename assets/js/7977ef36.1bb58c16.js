(self.webpackChunkparasola=self.webpackChunkparasola||[]).push([[303],{59513:function(e,n,i){"use strict";i.r(n),i.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return h}});var t=i(83117),r=i(80102),a=(i(67294),i(3905)),o=i(93456),d=["components"],s={title:"Distributions"},l=void 0,u={unversionedId:"reference/distributions",id:"reference/distributions",title:"Distributions",description:"Ref | Distributions",source:"@site/chanterelle/docs/reference/distributions.md",sourceDirName:"reference",slug:"/reference/distributions",permalink:"/chanterelle/reference/distributions",draft:!1,tags:[],version:"current",frontMatter:{title:"Distributions"},sidebar:"reference",previous:{title:"Authentication Identities",permalink:"/chanterelle/reference/authentication-identities"},next:{title:"Elements",permalink:"/chanterelle/reference/elements"}},p={},h=[{value:"Examples",id:"examples",level:2},{value:"Creating the first distribution within a node group",id:"creating-the-first-distribution-within-a-node-group",level:3},{value:"Appending a new head distribution",id:"appending-a-new-head-distribution",level:3},{value:"Prepending a new non-head distribution",id:"prepending-a-new-non-head-distribution",level:3},{value:"Inserting a new non-head distribution in between two existing distributions",id:"inserting-a-new-non-head-distribution-in-between-two-existing-distributions",level:3}],c={toc:h};function m(e){var n=e.components,i=(0,r.Z)(e,d);return(0,a.kt)("wrapper",(0,t.Z)({},c,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("head",null,(0,a.kt)("title",null,"Ref | Distributions")),(0,a.kt)("p",null,"Distributions provide a means of defining a path through element versions within a node group. Each distribution is associated with exactly one element version and node group as well as up to one distribution that represents the next step in the graph. The next step is configured via the distribution's ",(0,a.kt)("inlineCode",{parentName:"p"},"next_distribution_id")," field. A node group's distributions form an anti-arborescence or in-tree, for example below:"),(0,a.kt)(o.Mermaid,{config:{},chart:"graph LR;\n    A & B --\x3e C\n    C & E --\x3e D\n    F --\x3e E\n    G --\x3e A\n    style D fill:#AFA",mdxType:"Mermaid"}),(0,a.kt)("p",null,"Wihthin a node group's distribution graph, only up to one distribution at any given time within that graph is allowed to have a ",(0,a.kt)("inlineCode",{parentName:"p"},"next_distribution_id")," of ",(0,a.kt)("inlineCode",{parentName:"p"},"null"),'. That distribution, "D" above, is referred to as the head distribution of that node group\'s distribution graph.'),(0,a.kt)("h2",{id:"examples"},"Examples"),(0,a.kt)("h3",{id:"creating-the-first-distribution-within-a-node-group"},"Creating the first distribution within a node group"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"peridio distribution create \\\n  --name A \\\n  --node-group-id ... \\\n  --element-version-id ...\n")),(0,a.kt)("p",null,"Resulting in:"),(0,a.kt)(o.Mermaid,{chart:"graph LR;\n    A\n    style A fill:#AFA",mdxType:"Mermaid"}),(0,a.kt)("h3",{id:"appending-a-new-head-distribution"},"Appending a new head distribution"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"peridio distribution create \\\n  --name B \\\n  --node-group-id ... \\\n  --element-version-id ...\n")),(0,a.kt)("p",null,"Resulting in:"),(0,a.kt)(o.Mermaid,{chart:"graph LR;\n    A --\x3e B\n    style B fill:#AFA",mdxType:"Mermaid"}),(0,a.kt)("p",null,"Note that to create a new head distribution you do not supply a ",(0,a.kt)("inlineCode",{parentName:"p"},"next_distribution_id"),'. "A" is automatically updated for you to set its ',(0,a.kt)("inlineCode",{parentName:"p"},"next_distribution_id")," appropriately."),(0,a.kt)("h3",{id:"prepending-a-new-non-head-distribution"},"Prepending a new non-head distribution"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'peridio distribution create \\\n  --name B \\\n  --node-group-id ... \\\n  --element-version-id ... \\\n  --next-distribution-id ... # ID of "B"\n')),(0,a.kt)("p",null,"Resulting in:"),(0,a.kt)(o.Mermaid,{chart:"graph LR;\n    A & C --\x3e B\n    style B fill:#AFA",mdxType:"Mermaid"}),(0,a.kt)("h3",{id:"inserting-a-new-non-head-distribution-in-between-two-existing-distributions"},"Inserting a new non-head distribution in between two existing distributions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'peridio distribution create \\\n  --name D \\\n  --node-group-id ... \\\n  --element-version-id ... \\\n  --next-distribution-id ... # ID of "B"\n')),(0,a.kt)("p",null,"Resulting intermediately in:"),(0,a.kt)(o.Mermaid,{chart:"graph LR;\n    A & C & D --\x3e B\n    style B fill:#AFA",mdxType:"Mermaid"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'peridio distribution update \\\n  --id ... \\ # ID of "A"\n  --node-group-id ... \\\n  --element-version-id ... \\\n  --next-distribution-id ... # ID of "D"\n')),(0,a.kt)("p",null,"Resulting in:"),(0,a.kt)(o.Mermaid,{chart:"graph LR;\n    C & D --\x3e B\n    A --\x3e D\n    style B fill:#AFA",mdxType:"Mermaid"}))}m.isMDXComponent=!0},11748:function(e,n,i){var t={"./locale":89234,"./locale.js":89234};function r(e){var n=a(e);return i(n)}function a(e){if(!i.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=a,e.exports=r,r.id=11748}}]);